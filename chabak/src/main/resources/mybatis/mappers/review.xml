<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	<!-- SQL Mapping 설정 -->
	<mapper namespace="review">
	<!-- SQL 객체 --><!-- 게시물 추가 sql parameterType은 이미 alias를 설정했으므로 전체경로를 쓸 필요 없다-->
	<!-- insert,update,delete 객체는 영향받은 레코드의 카운트를 정수로 반환 -->
	<insert id="insertReview" parameterType="Review">
	INSERT INTO Review(reviewNo,id,title,sido,gugun,content,titleImageSrc)
	VALUES(
	REVIEWNO_SEQ.nextval,
	#{id},
	#{title},
	#{sido},
	#{gugun},
	#{content},
	#{titleImageSrc}
	)
	</insert>

	<select id="selectReviewList" resultType="Review">
		select reviewNo,id,title,sido,gugun,content,titleImageSrc,readCount,likeCount,regDate,modifyDate
		from Review
	</select>

	<select id="selectReviewDetail" parameterType="int" resultType="Review">
		select reviewNo,id,title,sido,gugun,content,titleImageSrc,readCount,likeCount,regDate,modifyDate
		from Review
		where REVIEWNO = #{reviewNo}
	</select>

	<update id="updateReview" parameterType="Review">
		UPDATE REVIEW SET TITLE = #{title},
		                  SIDO = #{sido},
		                  GUGUN = #{gugun},
		                  CONTENT = #{content},
		                  TITLEIMAGESRC = #{titleImageSrc},
		                  MODIFYDATE = sysdate
		WHERE REVIEWNO = #{reviewNo}
	</update>

	<delete id="deleteReview" parameterType="int">
		delete REVIEW
		where REVIEWNO = #{reviewNo}

	</delete>

	</mapper>